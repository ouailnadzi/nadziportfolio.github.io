"dark"===window.localStorage.getItem("heimdall-color")?(document.body.classList.add("dark"),document.body.classList.remove("light")):(document.body.classList.add("light"),document.body.classList.remove("dark"));const mainNavbar=document.getElementById("main-navbar");0<window.scrollY?mainNavbar.classList.add("navbar-sticky"):mainNavbar.classList.remove("navbar-sticky");const lightButton=document.getElementById("to-light"),darkButton=document.getElementById("to-dark");lightButton.addEventListener("click",()=>{document.body.classList.add("light"),document.body.classList.remove("dark"),window.localStorage.setItem("heimdall-color","light")}),darkButton.addEventListener("click",()=>{document.body.classList.add("dark"),document.body.classList.remove("light"),window.localStorage.setItem("heimdall-color","dark")}),window.addEventListener("scroll",()=>{0<window.scrollY?mainNavbar.classList.add("navbar-sticky"):mainNavbar.classList.remove("navbar-sticky")});const dropdownBtn=document.getElementById("profile-dropdown-btn"),dropdown=document.getElementById("profile-dropdown");dropdownBtn&&dropdownBtn.addEventListener("click",()=>{dropdown.classList.contains("opacity-0")?(dropdown.classList.add("opacity-100"),dropdown.classList.add("pointer-events-auto"),dropdown.classList.remove("opacity-0"),dropdown.classList.remove("pointer-events-none")):(dropdown.classList.add("opacity-0"),dropdown.classList.add("pointer-events-none"),dropdown.classList.remove("opacity-100"),dropdown.classList.remove("pointer-events-auto"))});const mobileMenu=document.getElementById("mobile-menu"),mobileMenuBtn=document.getElementById("mobile-menu-btn");mobileMenu&&mobileMenuBtn&&mobileMenuBtn.addEventListener("click",()=>{mobileMenu.classList.contains("opacity-0")?(mobileMenu.classList.add("opacity-100"),mobileMenu.classList.add("pointer-events-auto"),mobileMenu.classList.remove("opacity-0"),mobileMenu.classList.remove("pointer-events-none"),mainNavbar.classList.add("mobile-menu-open")):(mobileMenu.classList.add("opacity-0"),mobileMenu.classList.add("pointer-events-none"),mobileMenu.classList.remove("opacity-100"),mobileMenu.classList.remove("pointer-events-auto"),mainNavbar.classList.remove("mobile-menu-open"))});const buttons=document.querySelectorAll(".search-btn"),searchSuggestions=document.getElementById("search-suggestions"),searchPanel=document.getElementById("search-panel"),searchInput=document.getElementById("search-input"),searchEmpty=document.getElementById("search-empty"),searchResults=document.getElementById("search-results"),searchLoading=document.getElementById("search-loading"),searchCountWrapper=document.getElementById("search-results-count-wrapper"),searchCount=document.getElementById("search-results-count");buttons.forEach(e=>{e.addEventListener("click",()=>{Array.from(searchPanel.classList).includes("visible")?(searchPanel.classList.remove("visible"),document.onkeydown=void 0):(searchPanel.classList.add("visible"),searchInput.focus(),document.onkeydown=function(e){if("Escape"===e.key&&searchPanel.classList.remove("visible"),"Enter"===e.key){const t=document.querySelector("#search-results > a:first-child");t&&(window.location=t.getAttribute("href"))}})})});const ghostSearch=new GhostSearch({key:SEARCH_API_KEY,url:SEARCH_API_URL,host:SEARCH_API_URL,input:"#search-input",results:"#search-results",template:e=>{var t=`${[location.protocol,"//",location.host].join("")}/${e.slug}`,s=e.authors[0];return`
            <a href="${t}" class="pt-4 group block col-span-4">
                <h6 class="text-black dark:text-white group-hover:text-primary dark:group-hover:text-primary transition-colors">${e.title}</h6>
                <span class="text-black dark:text-white text-xs transition-colors">
                    <span class="font-serif italic" style="font-size: 10px; margin-right: 2px;">by</span>
                    <span class="transition-all font-sans font-bold">${s.name}</span>
                </span>
            </a>
        `},api:{resource:"posts",parameters:{limit:"all",fields:["title","slug","excerpt"],include:"authors"}},on:{afterDisplay:e=>{0<searchInput.value.length?(searchSuggestions.classList.add("hidden"),0<e.length?(searchResults.classList.remove("hidden"),searchEmpty.classList.add("hidden")):(searchResults.classList.add("hidden"),searchEmpty.classList.remove("hidden")),searchCountWrapper.classList.remove("hidden"),searchCount.innerText=e.length):(searchCountWrapper.classList.add("hidden"),searchResults.classList.add("hidden"),searchSuggestions.classList.remove("hidden"),searchEmpty.classList.add("hidden"))},beforeFetch:()=>{searchLoading.classList.remove("hidden")},afterFetch:()=>{searchLoading.classList.add("hidden")}}});function wrap(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)}document.querySelectorAll(".kg-gallery-image img").forEach(function(e){const t=e.closest(".kg-gallery-image");t.style.flex=e.attributes.width.value/e.attributes.height.value+" 1 0%"});const galleryElements=document.querySelectorAll(".kg-gallery-image > img");galleryElements.forEach(e=>{const t=document.createElement("a");t.setAttribute("class","post-gallery cursor-pointer shadow-md hover:shadow-2xl transition-all"),t.setAttribute("href",e.getAttribute("src")),wrap(e,t)}),0<galleryElements.length&&halkaBox.run("post-gallery");const players=['iframe[src*="youtube.com"]','iframe[src*="vimeo.com"]'],videoIframes=document.querySelectorAll(players.join(","));if(videoIframes.length)for(let e=0;e<videoIframes.length;e++){const p=videoIframes[e],q=p.getAttribute("width"),r=p.getAttribute("height"),s=r/q,t=p.parentNode,u=document.createElement("div");u.className="video-iframe-wrapper",u.style.paddingBottom=100*s+"%",t.insertBefore(u,p),p.remove(),u.appendChild(p),p.removeAttribute("height"),p.removeAttribute("width")}!function(t,o){const n=o.getElementById("pagination-wrapper");if(n){const r=o.querySelector("#load-more");if(r){const i=o.querySelector("link[rel=next]");if(i){const l=o.querySelector(".post-loop-wrapper");if(l){let s=!1;function a(){const e=this.response.querySelectorAll(".post-loop-wrapper > div");e.forEach(function(e){const t=o.importNode(e,!0);t.classList.add("fadeInUp"),l.appendChild(t)});var t=this.response.querySelector("link[rel=next]");t?i.href=t.href:n.style.display="none",s=!1,r.classList.remove("loading")}r.addEventListener("click",function(){if(!s){s=!0,r.classList.add("loading");const e=new t.XMLHttpRequest;e.responseType="document",e.addEventListener("load",a),e.open("GET",i.href),e.send(null)}})}}}}}(window,document);
//# sourceMappingURL=main.js.map