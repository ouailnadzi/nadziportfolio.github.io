!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n="undefined"!=typeof globalThis?globalThis:n||self).EmblaCarousel=e()}(this,function(){"use strict";function B(){return(B=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t,r=arguments[e];for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n}).apply(this,arguments)}function re(e,t){var r=Math.abs(e-t);function n(n){return n<e}function o(n){return t<n}function i(n){return n<e||t<n}return{constrain:function(n){return i(n)?n<e?e:t:n},length:r,max:t,min:e,reachedAny:i,reachedMax:o,reachedMin:n,removeOffset:function(n){return r?n-r*Math.ceil((n-t)/r):n}}}function oe(){var o=[],i={add:function(n,e,t,r){return void 0===r&&(r=!1),n.addEventListener(e,t,r),o.push(function(){return n.removeEventListener(e,t,r)}),i},removeAll:function(){return o=o.filter(function(n){return n()}),i}};return i}function ie(n){var e=n;function t(n){return e/=n,o}function r(n){return"number"==typeof n?n:n.get()}var o={add:function(n){return e+=r(n),o},divide:t,get:function(){return e},multiply:function(n){return e*=n,o},normalize:function(){return 0!==e&&t(e),o},set:function(n){return e=r(n),o},subtract:function(n){return e-=r(n),o}};return o}function z(n){return n?n/Math.abs(n):0}function O(n,e){return Math.abs(n-e)}function ae(n,e){for(var t=[],r=0;r<n.length;r+=e)t.push(n.slice(r,r+e));return t}function ue(n){return Object.keys(n).map(Number)}function ce(n){return n[se(n)]}function se(n){return Math.max(0,n.length-1)}function I(n,e){n=n.classList;e&&n.contains(e)&&n.remove(e)}function L(n,e){n=n.classList;e&&!n.contains(e)&&n.add(e)}function de(n,u,o,c,s,d,i,r,l,f,p,g,m,v,h){var a=n.scroll,x=n.cross,y=["INPUT","SELECT","TEXTAREA"],b=ie(0),w=ie(0),M=ie(0),e=oe(),S=oe(),E={mouse:2.5,touch:3.5},A={mouse:5,touch:7},T=s?5:16,D=!1,P=!1,C=!1,B=!1;function t(n){var e,t,r;(B="mousedown"===n.type)&&0!==n.button||(t=2<=O(c.get(),i.get()),e=B||!t,r=n.target.nodeName||"",r=!(-1<y.indexOf(r)),t=t||B&&r,D=!0,d.pointerDown(n),M.set(c),c.set(i),f.useBaseMass().useSpeed(80),r=B?document:o,S.add(r,"touchmove",I).add(r,"touchend",L).add(r,"mousemove",I).add(r,"mouseup",L),b.set(d.readPoint(n,a)),w.set(d.readPoint(n,x)),m.emit("pointerDown"),e&&(C=!1),t&&n.preventDefault())}function I(n){if(!P&&!B){if(!n.cancelable)return L();var e=d.readPoint(n,a).get(),t=d.readPoint(n,x).get(),e=O(e,b.get()),t=O(t,w.get());if(!(P=t<e)&&!C)return L()}e=d.pointerMove(n);!C&&e&&(C=!0),r.start(),c.add(u.applyTo(e)),n.preventDefault()}function L(){var n,e,t,r,o,i=p.byDistance(0,!1).index!==g.get(),a=d.pointerUp()*(s?A:E)[B?"mouse":"touch"],r=(n=u.applyTo(a),e=i,t=g.clone().add(-1*z(n)),r=t.get()===g.min||t.get()===g.max,o=p.byDistance(n,!s).distance,s||Math.abs(n)<20?o:!v&&r?.6*o:h&&e?.5*o:p.byIndex(t.get(),0).distance),e=function(n,e){if(0==n||0===e)return 0;if(Math.abs(n)<=Math.abs(e))return 0;e=O(Math.abs(n),Math.abs(e));return Math.abs(e/n)}(a,r),o=.5<=O(c.get(),M.get()),t=i&&.75<e,i=Math.abs(a)<20,a=t?10:T,e=t?1+2.5*e:1;o&&!B&&(C=!0),D=P=!1,S.removeAll(),f.useSpeed(i?9:a).useMass(e),l.distance(r,!s),B=!1,m.emit("pointerUp")}function k(n){C&&n.preventDefault()}return{addActivationEvents:function(){var n=o;e.add(n,"touchmove",function(){}).add(n,"touchend",function(){}).add(n,"touchstart",t).add(n,"mousedown",t).add(n,"touchcancel",L).add(n,"contextmenu",L).add(n,"click",k)},clickAllowed:function(){return!C},pointerDown:function(){return D},removeAllEvents:function(){e.removeAll(),S.removeAll()}}}function le(t,n,e){var r,o=(r=Math.pow(10,2),function(n){return Math.round(n*r)/r}),i=ie(0),a=ie(0),u=ie(0),c=0,s=n,d=e;function l(n){return s=n,p}function f(n){return d=n,p}var p={direction:function(){return c},seek:function(n){u.set(n).subtract(t);n=0+(u.get()-0)/100*+s;return c=z(u.get()),u.normalize().multiply(n).subtract(i),(n=u).divide(d),a.add(n),p},settle:function(n){var e=n.get()-t.get(),e=!o(e);return e&&t.set(n),e},update:function(){i.add(a),t.add(i),a.multiply(0)},useBaseMass:function(){return f(e)},useBaseSpeed:function(){return l(n)},useMass:f,useSpeed:l};return p}function fe(r,n,e,o,i){var n=re(e.min+n.measure(.1),e.max+n.measure(.1)),a=n.reachedMin,u=n.reachedMax;return{loop:function(n){var e,t;(1===(t=n)?u(o.get()):-1===t&&a(o.get()))&&(e=r*(-1*n),i.forEach(function(n){return n.add(e)}))}}}function pe(a,u,o,n,c){var s=n.reachedAny,d=n.removeOffset,l=n.constrain;function i(n,e){return Math.abs(n)<Math.abs(e)?n:e}function f(n,e){var t=n,r=n+o,n=n-o;if(!a)return t;if(!e)return i(i(t,r),n);n=i(t,1===e?r:n);return Math.abs(n)*e}return{byDistance:function(n,e){var t,r=c.get()+n,o=(t=(a?d:l)(r),{index:u.map(function(n){return n-t}).map(function(n){return f(n,0)}).map(function(n,e){return{diff:n,index:e}}).sort(function(n,e){return Math.abs(n.diff)-Math.abs(e.diff)})[0].index,distance:t}),i=o.index,o=o.distance,r=!a&&s(r);return!e||r?{index:i,distance:n}:{index:i,distance:n+f(u[i]-o,0)}},byIndex:function(n,e){return{index:n,distance:f(u[n]-c.get(),e)}},shortcut:f}}function k(n,e,t,r,o){var i,a,u,c,s,d,l,f,p,g,m,v,h,x,y,b,w,M,S,E,A,T,D,P,C,B,I,L,k,z,O,N,F,U,V,H,R,j,G,q,W,X,J,Y,K,Q,Z,$,_,nn,en,tn,rn,on,an,un,cn,sn,dn,ln,fn,pn,gn,mn,vn,hn,xn,yn,bn,wn,Mn,Sn=r.align,En=r.axis,An=r.direction,Tn=r.startIndex,Dn=r.inViewThreshold,Pn=r.loop,Cn=r.speed,Bn=r.dragFree,In=r.slidesToScroll,Ln=r.skipSnaps,kn=r.containScroll,zn=e.getBoundingClientRect(),On=t.map(function(n){return n.getBoundingClientRect()}),Nn=(Mn="rtl"===An?-1:1,{applyTo:function(n){return n*Mn}}),Fn={scroll:wn="y"===En?"y":"x",cross:"y"===En?"x":"y",startEdge:"y"==wn?"top":"rtl"===An?"right":"left",endEdge:"y"==wn?"bottom":"rtl"===An?"left":"right",measureSize:function(n){var e=n.width,n=n.height;return"x"==wn?e:n}},Un=(i=Fn.measureSize(zn),{measure:function(n){return 0===i?0:n/i*100},totalPercent:100}),Vn=Un.totalPercent,Hn=(xn=Sn,yn=Vn,bn={start:function(){return 0},center:function(n){return(yn-n)/2},end:te},{measure:function(n){return"number"==typeof xn?yn*Number(xn):bn[xn](n)}}),Rn=(dn=Un,ln=t,fn=On,pn=Pn,gn=Fn.measureSize,mn=Fn.startEdge,vn=Fn.endEdge,{slideSizes:(hn=fn.map(gn)).map(dn.measure),slideSizesWithGaps:fn.map(function(n,e,t){var r=e===se(t),o=window.getComputedStyle(ce(ln)),o=parseFloat(o.getPropertyValue("margin-"+vn));return r?hn[e]+(pn?o:0):t[e+1][mn]-n[mn]}).map(dn.measure).map(Math.abs)}),jn=Rn.slideSizes,En=Rn.slideSizesWithGaps,Rn=(An=Hn,Sn=Un,an=zn,gn=On,fn=In,cn=(dn=Fn).startEdge,sn=dn.endEdge,{snaps:dn=gn.map(function(n){return an[cn]-n[cn]}).map(Sn.measure).map(function(n){return-Math.abs(n)}),snapsAligned:(dn=ae(dn,fn).map(function(n){return n[0]}),un=ae(gn,fn).map(function(n){return ce(n)[sn]-n[0][cn]}).map(Sn.measure).map(Math.abs).map(An.measure),dn.map(function(n,e){return n+un[e]}))}),Hn=Rn.snaps,zn=Rn.snapsAligned,On=-ce(Hn)+ce(En),fn=(gn=zn,tn=kn,rn=re(-(en=On)+(nn=Vn),Hn[0]),on=gn.map(rn.constrain),function(){if(en<=nn)return[rn.max];if("keepSnaps"===tn)return on;var n,e,n=(n=on[0],e=ce(on),re(on.lastIndexOf(n),on.indexOf(e)+1)),e=n.min,n=n.max;return on.slice(e,n)}()),Sn=Pn||""===kn?zn:fn,kn=(An=On,dn=Pn,Rn=Sn[0],gn=ce(Sn),re(dn?Rn-An:gn,Rn)),zn=function n(e,t,r){var o=re(0,e),i=o.min,a=o.constrain,u=e+1,c=s(t);function s(n){return r?Math.abs((u+n)%u):a(n)}function d(){return c}function l(n){return c=s(n),f}var f={add:function(n){return l(c+n)},clone:function(){return n(e,c,r)},get:d,set:l,min:i,max:e};return f}(se(Sn),Tn,Pn),fn=zn.clone(),dn=ue(t),An={proceed:ne(!(_=0),ee),start:ne(!($=function(){Pn||Wn.scrollBounds.constrain(Wn.dragHandler.pointerDown()),Wn.scrollBody.seek(qn).update();var n=Wn.scrollBody.settle(qn);n&&!Wn.dragHandler.pointerDown()&&(Wn.animation.stop(),o.emit("settle")),n||o.emit("scroll"),Pn&&(Wn.scrollLooper.loop(Wn.scrollBody.direction()),Wn.slideLooper.loop()),Wn.translate.to(Gn),Wn.animation.proceed()}),ee),stop:ne(!0,function(){window.cancelAnimationFrame(_),_=0})},gn=Sn[zn.get()],Gn=ie(gn),qn=ie(gn),Rn=le(Gn,Cn,1),Tn=pe(Pn,Sn,On,kn,qn),gn=(X=An,J=zn,Y=fn,K=Tn,Q=qn,Z=o,{distance:function(n,e){_n(K.byDistance(n,e))},index:function(n,e){n=J.clone().set(n);_n(K.byIndex(n.get(),e))}}),Cn=(R=Vn,Cn=On,j=jn,G=Hn,Hn=Pn,q=Math.min(Math.max(Dn,.01),.99),W=(Hn?[0,Cn,-Cn]:[0]).reduce(function(n,e){return n.concat($n(e,q))},[]),{check:function(o){return W.reduce(function(n,e){var t=e.index,r=e.start,e=e.end;return-1===n.indexOf(t)&&r<o&&o<e?n.concat([t]):n},[])},findSlideBounds:$n}),Wn={animation:An,axis:Fn,direction:Nn,dragHandler:de(Fn,Nn,n,qn,Bn,(I=Un,L=Fn.scroll,k={x:"clientX",y:"clientY"},z=ie(0),O=ie(0),N=ie(0),F=ie(0),U=[],V=(new Date).getTime(),H=!1,{pointerDown:function(n){n=Zn(n,L);return z.set(n),N.set(n),I.measure(z.get())},pointerMove:function(n){var e=Zn(n,L),t=(new Date).getTime(),n=t-V;return 10<=n&&((U=100<=n?[]:U).push(e.get()),V=t),O.set(e).subtract(N),N.set(e),I.measure(O.get())},pointerUp:function(){var n=(new Date).getTime()-V,e=N.get(),t=U.slice(-5).map(function(n){return e-n}).sort(function(n,e){return Math.abs(n)<Math.abs(e)?1:-1})[0];return N.set(100<n||!t?0:t),U=[],I.measure(N.get())},readPoint:Zn}),Gn,An,gn,Rn,Tn,zn,o,Pn,Ln),pxToPercent:Un,index:zn,indexPrevious:fn,limit:kn,location:Gn,options:r,scrollBody:Rn,scrollBounds:(C=Rn,B=!1,{constrain:function(n){var e,t;!B&&T.reachedAny(P.get())&&T.reachedAny(D.get())&&(e=n?.7:.45,t=P.get()-D.get(),P.subtract(t*e),!n&&Math.abs(t)<10&&(P.set(T.constrain(P.get())),C.useSpeed(10).useMass(3)))},toggleActive:function(n){B=!n}}),scrollLooper:fe(On,Un,T=kn,D=Gn,[Gn,P=qn]),scrollProgress:(E=kn.max,A=kn.length,{get:function(n){return(n-E)/-A}}),scrollSnaps:Sn,scrollTarget:Tn,scrollTo:gn,slideFocus:(y=n,b=gn,w=In,M=oe(),In=M.removeAll,S=0,{addActivationEvents:function(n){M.add(document,"keydown",Kn,!1),n.forEach(Qn)},removeAllEvents:In}),slideLooper:(d=Fn,l=Vn,f=On,Sn=Sn,g=Cn,m=Gn,v=t,h=ue(p=En),{canLoop:function(){return x.every(function(n){var e=n.index;return Xn(h.filter(function(n){return n!==e}),l)<=0})},clear:function(){x.forEach(function(n){n=n.index;v[n].style[d.startEdge]=""})},loop:function(){x.forEach(function(n){var e=n.getTarget,t=n.location,r=n.index,e=e();e!==t&&(v[r].style[d.startEdge]=e+"%",n.location=e)})},loopPoints:x=Yn(Jn(ue(p).reverse(),Sn[0]-1),"end").concat((Sn=l-Sn[0]-1,Yn(Jn(h,Sn),"start")))}),slidesInView:Cn,slideIndexes:dn,target:qn,translate:(a=Nn,u=e.style,c="x"===Fn.scroll?function(n){return"translate3d("+n+"%,0px,0px)"}:function(n){return"translate3d(0px,"+n+"%,0px)"},s=!1,{clear:function(){u.transform=""},to:function(n){s||(u.transform=c(a.applyTo(n.get())))},toggleActive:function(n){s=!n}})};function Xn(n,e){return n.reduce(function(n,e){return n-p[e]},e)}function Jn(n,t){return n.reduce(function(n,e){return 0<Xn(n,t)?n.concat([e]):n},[])}function Yn(n,e){var o="start"===e,i=g.findSlideBounds(o?-f:f);return n.map(function(e){var n=o?0:-f,t=o?f:0,r=i.filter(function(n){return n.index===e})[0][o?"end":"start"];return{point:r,getTarget:function(){return m.get()>r?n:t},index:e,location:-1}})}function Kn(n){9===n.keyCode&&(S=(new Date).getTime())}function Qn(n,e){M.add(n,"focus",function(){var n;10<(new Date).getTime()-S||(y.scrollLeft=0,n=Math.floor(e/w),b.index(n,0))},!0)}function Zn(n,e){H=!n.touches;e=k[e],e=(H?n:n.touches[0])[e];return F.set(e)}function $n(t,e){var r=j.map(function(n){return n*(e||0)});return G.map(function(n,e){return{start:n-j[e]+r[e]+t,end:n+R-r[e]+t,index:e}})}function _n(n){var e=n.distance,t=n.index!==J.get();e&&(X.start(),Q.add(e)),t&&(Y.set(J.get()),J.set(n.index),Z.emit("select"))}function ne(n,e){return function(){n===!!_&&e()}}function ee(){_=window.requestAnimationFrame($)}function te(n){return yn-n}return Wn}var N={align:"center",axis:"x",containScroll:"",direction:"ltr",dragFree:!1,draggable:!0,draggableClass:"is-draggable",draggingClass:"is-dragging",inViewThreshold:0,loop:!1,skipSnaps:!0,selectedClass:"is-selected",slidesToScroll:1,speed:10,startIndex:0};return function(t,n){var e,r,o,i,a,u,c,s,d=(c={},s={emit:function(e){return b(e).forEach(function(n){return n(e)}),s},off:function(n,e){return c[n]=b(n).filter(function(n){return n!==e}),s},on:function(n,e){return c[n]=b(n).concat([e]),s}}),l=oe(),f=(e=function(){var n;v&&(n=o.axis.measureSize(t.getBoundingClientRect()),y!==n&&A(),d.emit("resize"))},r=0,function(){window.clearTimeout(r),r=window.setTimeout(e,500)||0}),p=A,g=d.on,m=d.off,v=!500,h=B({},N),x=B({},h),y=0;function b(n){return c[n]||[]}function w(n){if(function(){if(!t)throw new Error("Missing root node 😢");var n,e=t.querySelector("*");if(!e)throw new Error("Missing container node 😢");a=e,u=Array.prototype.slice.call(a.children),n=getComputedStyle(t,":before").content,i={get:function(){try{return JSON.parse(n.slice(1,-1).replace(/\\/g,""))}catch(n){}return{}}}}(),h=B({},h,n),x=B({},h,i.get()),o=k(t,a,u,x,d),l.add(window,"resize",f),o.translate.to(o.location),y=o.axis.measureSize(t.getBoundingClientRect()),x.loop){if(!o.slideLooper.canLoop())return E(),w({loop:!1});o.slideLooper.loop()}x.draggable&&a.offsetParent&&u.length&&(o.dragHandler.addActivationEvents(),x.draggableClass&&L(t,x.draggableClass),x.draggingClass&&d.on("pointerDown",M).on("pointerUp",M)),u.length&&o.slideFocus.addActivationEvents(u),x.selectedClass&&(S(),d.on("select",S).on("pointerUp",S)),v||(setTimeout(function(){return d.emit("init")},0),v=!0)}function M(n){var e=x.draggingClass;("pointerDown"===n?L:I)(t,e)}function S(){var e=x.selectedClass,n=T(!0);D(!0).forEach(function(n){return I(u[n],e)}),n.forEach(function(n){return L(u[n],e)})}function E(){o.dragHandler.removeAllEvents(),o.slideFocus.removeAllEvents(),o.animation.stop(),l.removeAll(),o.translate.clear(),o.slideLooper.clear(),I(t,x.draggableClass),u.forEach(function(n){return I(n,x.selectedClass)}),d.off("select",S).off("pointerUp",S).off("pointerDown",M).off("pointerUp",M)}function A(n){v&&(n=B({startIndex:C()},n),E(),w(n),d.emit("reInit"))}function T(n){var e=o[n?"target":"location"].get(),n=x.loop?"removeOffset":"constrain";return o.slidesInView.check(o.limit[n](e))}function D(n){var e=T(n);return o.slideIndexes.filter(function(n){return-1===e.indexOf(n)})}function P(n,e,t){o.scrollBody.useBaseMass().useSpeed(e?100:x.speed),v&&o.scrollTo.index(n,t||0)}function C(){return o.index.get()}return w(n),{canScrollNext:function(){return o.index.clone().add(1).get()!==C()},canScrollPrev:function(){return o.index.clone().add(-1).get()!==C()},clickAllowed:function(){return o.dragHandler.clickAllowed()},containerNode:function(){return a},dangerouslyGetEngine:function(){return o},destroy:function(){v&&(E(),v=!1,d.emit("destroy"))},off:m,on:g,previousScrollSnap:function(){return o.indexPrevious.get()},reInit:p,rootNode:function(){return t},scrollNext:function(n){P(o.index.clone().add(1).get(),!0===n,-1)},scrollPrev:function(n){P(o.index.clone().add(-1).get(),!0===n,1)},scrollProgress:function(){return o.scrollProgress.get(o.location.get())},scrollSnapList:function(){return o.scrollSnaps.map(o.scrollProgress.get)},scrollTo:P,selectedScrollSnap:C,slideNodes:function(){return u},slidesInView:T,slidesNotInView:D}}});
//# sourceMappingURL=embla.js.map