const emblaNode=document.querySelector("#main-carousel.embla"),viewPort=emblaNode.querySelector("#main-carousel .embla__viewport"),embla=EmblaCarousel(viewPort,{loop:!0,skipSnaps:!0}),nextButtonNode=document.getElementById("embla__next"),thumbNodes=Array.from(emblaNode.querySelector(".embla__thumbs").getElementsByTagName("button")),PARALLAX_FACTOR=1.25,calculateParallaxTransforms=()=>{const e=embla.dangerouslyGetEngine(),r=embla.scrollProgress();return embla.scrollSnapList().map((a,o)=>{if(!embla.slidesInView().includes(o))return 0;let t=a-r;return e.options.loop&&e.slideLooper.loopPoints.forEach(e=>{var l=e.getTarget();o===e.index&&0!==l&&(-1===(l=Math.sign(l))&&(t=a-(1+r)),1===l&&(t=a+(1-r)))}),t*(-1/PARALLAX_FACTOR)*100})},parallax=()=>{const e=embla.slideNodes(),a=e.map(e=>e.querySelector(".embla__slide__parallax"));return()=>{const e=calculateParallaxTransforms();e.forEach((e,l)=>{a[l].style.transform=`translateX(${e}%)`})}},autoplay=e=>{let l=0;const a=()=>{o(),requestAnimationFrame(()=>l=window.setTimeout(t,e))},o=()=>{window.clearTimeout(l),l=0},t=()=>{embla.canScrollNext()?embla.scrollNext():embla.scrollTo(0),a()};return{play:a,stop:o}},applyParallaxStyles=parallax(),autoplayer=autoplay(5e3);embla.on("init",()=>{applyParallaxStyles(),autoplayer.play()}),embla.on("resize",applyParallaxStyles),embla.on("pointerDown",autoplayer.stop),embla.on("scroll",applyParallaxStyles),embla.on("select",()=>{const e=thumbNodes[embla.previousScrollSnap()],l=thumbNodes[embla.selectedScrollSnap()];e.classList.remove("is-selected"),l.classList.add("is-selected")}),nextButtonNode.addEventListener("click",embla.scrollNext,!1),thumbNodes.forEach(l=>{l.addEventListener("click",function(e){embla.scrollTo(l.getAttribute("data-embla-index")),autoplayer.play()})},!1);const goDownBtn=document.getElementById("go-down");goDownBtn&&goDownBtn.addEventListener("click",()=>{var e,l=document.getElementById("main-loop");l&&(e=1024<window.innerWidth?150:120,window.scrollTo({top:l.offsetTop-e,behavior:"smooth"}))});
//# sourceMappingURL=index.js.map